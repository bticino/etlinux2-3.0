--- gdbm-1.7.3.orig/configure	Wed May  4 15:39:59 2005
+++ gdbm-1.7.3/configure	Wed May  4 14:02:59 2005
@@ -1,7 +1,7 @@
 #! /bin/sh
 
 # Guess values for system-dependent variables and create Makefiles.
-# Generated automatically using autoconf version 2.12 
+# Generated automatically using autoconf version 2.13 
 # Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
 #
 # This configure script is free software; the Free Software Foundation
@@ -49,6 +49,7 @@
 # Initialize some other variables.
 subdirs=
 MFLAGS= MAKEFLAGS=
+SHELL=${CONFIG_SHELL-/bin/sh}
 # Maximum number of lines to put in a shell here document.
 ac_max_here_lines=12
 
@@ -332,7 +333,7 @@
     verbose=yes ;;
 
   -version | --version | --versio | --versi | --vers)
-    echo "configure generated by autoconf version 2.12"
+    echo "configure generated by autoconf version 2.13"
     exit 0 ;;
 
   -with-* | --with-*)
@@ -502,9 +503,11 @@
 # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
-ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
 cross_compiling=$ac_cv_prog_cc_cross
 
+ac_exeext=
+ac_objext=o
 if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
   # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
   if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
@@ -522,15 +525,16 @@
 # Extract the first word of "gcc", so it can be a program name with args.
 set dummy gcc; ac_word=$2
 echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:526: checking for $ac_word" >&5
+echo "configure:529: checking for $ac_word" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
-  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
-  for ac_dir in $PATH; do
+  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+  ac_dummy="$PATH"
+  for ac_dir in $ac_dummy; do
     test -z "$ac_dir" && ac_dir=.
     if test -f $ac_dir/$ac_word; then
       ac_cv_prog_CC="gcc"
@@ -551,16 +555,17 @@
   # Extract the first word of "cc", so it can be a program name with args.
 set dummy cc; ac_word=$2
 echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:555: checking for $ac_word" >&5
+echo "configure:559: checking for $ac_word" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
-  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
+  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
   ac_prog_rejected=no
-  for ac_dir in $PATH; do
+  ac_dummy="$PATH"
+  for ac_dir in $ac_dummy; do
     test -z "$ac_dir" && ac_dir=.
     if test -f $ac_dir/$ac_word; then
       if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
@@ -595,25 +600,61 @@
   echo "$ac_t""no" 1>&6
 fi
 
+  if test -z "$CC"; then
+    case "`uname -s`" in
+    *win32* | *WIN32*)
+      # Extract the first word of "cl", so it can be a program name with args.
+set dummy cl; ac_word=$2
+echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+echo "configure:610: checking for $ac_word" >&5
+if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
+  echo $ac_n "(cached) $ac_c" 1>&6
+else
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+  ac_dummy="$PATH"
+  for ac_dir in $ac_dummy; do
+    test -z "$ac_dir" && ac_dir=.
+    if test -f $ac_dir/$ac_word; then
+      ac_cv_prog_CC="cl"
+      break
+    fi
+  done
+  IFS="$ac_save_ifs"
+fi
+fi
+CC="$ac_cv_prog_CC"
+if test -n "$CC"; then
+  echo "$ac_t""$CC" 1>&6
+else
+  echo "$ac_t""no" 1>&6
+fi
+ ;;
+    esac
+  fi
   test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
 fi
 
 echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
-echo "configure:603: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
+echo "configure:642: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
 
 ac_ext=c
 # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
-ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
 cross_compiling=$ac_cv_prog_cc_cross
 
-cat > conftest.$ac_ext <<EOF
-#line 613 "configure"
+cat > conftest.$ac_ext << EOF
+
+#line 653 "configure"
 #include "confdefs.h"
+
 main(){return(0);}
 EOF
-if { (eval echo configure:617: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
+if { (eval echo configure:658: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   ac_cv_prog_cc_works=yes
   # If we can't run a trivial program, we are probably using a cross compiler.
   if (./conftest; exit) 2>/dev/null; then
@@ -627,18 +668,24 @@
   ac_cv_prog_cc_works=no
 fi
 rm -fr conftest*
+ac_ext=c
+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
+cross_compiling=$ac_cv_prog_cc_cross
 
 echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
 if test $ac_cv_prog_cc_works = no; then
   { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
 fi
 echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
-echo "configure:637: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
+echo "configure:684: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
 echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
 cross_compiling=$ac_cv_prog_cc_cross
 
 echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
-echo "configure:642: checking whether we are using GNU C" >&5
+echo "configure:689: checking whether we are using GNU C" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -647,7 +694,7 @@
   yes;
 #endif
 EOF
-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:651: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:698: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
   ac_cv_prog_gcc=yes
 else
   ac_cv_prog_gcc=no
@@ -658,11 +705,15 @@
 
 if test $ac_cv_prog_gcc = yes; then
   GCC=yes
-  ac_test_CFLAGS="${CFLAGS+set}"
-  ac_save_CFLAGS="$CFLAGS"
-  CFLAGS=
-  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
-echo "configure:666: checking whether ${CC-cc} accepts -g" >&5
+else
+  GCC=
+fi
+
+ac_test_CFLAGS="${CFLAGS+set}"
+ac_save_CFLAGS="$CFLAGS"
+CFLAGS=
+echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
+echo "configure:717: checking whether ${CC-cc} accepts -g" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -677,20 +728,24 @@
 fi
 
 echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
-  if test "$ac_test_CFLAGS" = set; then
-    CFLAGS="$ac_save_CFLAGS"
-  elif test $ac_cv_prog_cc_g = yes; then
+if test "$ac_test_CFLAGS" = set; then
+  CFLAGS="$ac_save_CFLAGS"
+elif test $ac_cv_prog_cc_g = yes; then
+  if test "$GCC" = yes; then
     CFLAGS="-g -O2"
   else
-    CFLAGS="-O2"
+    CFLAGS="-g"
   fi
 else
-  GCC=
-  test "${CFLAGS+set}" = set || CFLAGS="-g"
+  if test "$GCC" = yes; then
+    CFLAGS="-O2"
+  else
+    CFLAGS=
+  fi
 fi
 
 echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
-echo "configure:694: checking how to run the C preprocessor" >&5
+echo "configure:749: checking how to run the C preprocessor" >&5
 # On Suns, sometimes $CPP names a directory.
 if test -n "$CPP" && test -d "$CPP"; then
   CPP=
@@ -705,14 +760,14 @@
   # On the NeXT, cc -E runs the code through the compiler's parser,
   # not just through cpp.
   cat > conftest.$ac_ext <<EOF
-#line 709 "configure"
+#line 764 "configure"
 #include "confdefs.h"
 #include <assert.h>
 Syntax Error
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:715: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out`
+{ (eval echo configure:770: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   :
 else
@@ -722,14 +777,31 @@
   rm -rf conftest*
   CPP="${CC-cc} -E -traditional-cpp"
   cat > conftest.$ac_ext <<EOF
-#line 726 "configure"
+#line 781 "configure"
 #include "confdefs.h"
 #include <assert.h>
 Syntax Error
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:732: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out`
+{ (eval echo configure:787: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
+if test -z "$ac_err"; then
+  :
+else
+  echo "$ac_err" >&5
+  echo "configure: failed program was:" >&5
+  cat conftest.$ac_ext >&5
+  rm -rf conftest*
+  CPP="${CC-cc} -nologo -E"
+  cat > conftest.$ac_ext <<EOF
+#line 798 "configure"
+#include "confdefs.h"
+#include <assert.h>
+Syntax Error
+EOF
+ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
+{ (eval echo configure:804: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   :
 else
@@ -742,6 +814,8 @@
 rm -f conftest*
 fi
 rm -f conftest*
+fi
+rm -f conftest*
   ac_cv_prog_CPP="$CPP"
 fi
   CPP="$ac_cv_prog_CPP"
@@ -776,28 +850,30 @@
 # SunOS /usr/etc/install
 # IRIX /sbin/install
 # AIX /bin/install
+# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # ./install, which can be erroneously created by make from ./install.sh.
 echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
-echo "configure:784: checking for a BSD compatible install" >&5
+echo "configure:859: checking for a BSD compatible install" >&5
 if test -z "$INSTALL"; then
 if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
-    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS="${IFS}:"
+    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
   for ac_dir in $PATH; do
     # Account for people who put trailing slashes in PATH elements.
     case "$ac_dir/" in
     /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
     *)
       # OSF1 and SCO ODT 3.0 have their own names for install.
-      for ac_prog in ginstall installbsd scoinst install; do
+      # Don't use installbsd from OSF since it installs stuff as root
+      # by default.
+      for ac_prog in ginstall scoinst install; do
         if test -f $ac_dir/$ac_prog; then
 	  if test $ac_prog = install &&
             grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
-	    # OSF/1 installbsd also uses dspmsg, but is usable.
 	    :
 	  else
 	    ac_cv_path_install="$ac_dir/$ac_prog -c"
@@ -827,20 +903,23 @@
 # It thinks the first close brace ends the variable substitution.
 test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'
 
+test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'
+
 test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
 
 # Extract the first word of "ranlib", so it can be a program name with args.
 set dummy ranlib; ac_word=$2
 echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:836: checking for $ac_word" >&5
+echo "configure:914: checking for $ac_word" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   if test -n "$RANLIB"; then
   ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
 else
-  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
-  for ac_dir in $PATH; do
+  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+  ac_dummy="$PATH"
+  for ac_dir in $ac_dummy; do
     test -z "$ac_dir" && ac_dir=.
     if test -f $ac_dir/$ac_word; then
       ac_cv_prog_RANLIB="ranlib"
@@ -858,69 +937,17 @@
   echo "$ac_t""no" 1>&6
 fi
 
-echo $ac_n "checking whether int is 16 bits""... $ac_c" 1>&6
-echo "configure:863: checking whether int is 16 bits" >&5
-if test "$cross_compiling" = yes; then
-    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
-else
-  cat > conftest.$ac_ext <<EOF
-#line 868 "configure"
-#include "confdefs.h"
-main() { exit(sizeof(int) != 2); }
-EOF
-if { (eval echo configure:872: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
-then
-  echo "$ac_t""yes" 1>&6
- cat >> confdefs.h <<\EOF
-#define INT_16_BITS 1
-EOF
-
-else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -fr conftest*
-  echo "$ac_t""no" 1>&6
-fi
-rm -fr conftest*
-fi
-
-
-echo $ac_n "checking whether long int is 64 bits""... $ac_c" 1>&6
-echo "configure:890: checking whether long int is 64 bits" >&5
-if test "$cross_compiling" = yes; then
-    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
-else
-  cat > conftest.$ac_ext <<EOF
-#line 895 "configure"
-#include "confdefs.h"
-main() { exit(sizeof(long int) != 8); }
-EOF
-if { (eval echo configure:899: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
-then
-  echo "$ac_t""yes" 1>&6
- cat >> confdefs.h <<\EOF
-#define LONG_64_BITS 1
-EOF
-
-else
-  echo "configure: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  rm -fr conftest*
-  echo "$ac_t""no" 1>&6
-fi
-rm -fr conftest*
-fi
-
-
+#AC_INT_16_BITS
+# AC_LONG_64_BITS
 echo $ac_n "checking whether byte ordering is bigendian""... $ac_c" 1>&6
-echo "configure:917: checking whether byte ordering is bigendian" >&5
+echo "configure:944: checking whether byte ordering is bigendian" >&5
 if eval "test \"`echo '$''{'ac_cv_c_bigendian'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   ac_cv_c_bigendian=unknown
 # See if sys/param.h defines the BYTE_ORDER macro.
 cat > conftest.$ac_ext <<EOF
-#line 924 "configure"
+#line 951 "configure"
 #include "confdefs.h"
 #include <sys/types.h>
 #include <sys/param.h>
@@ -931,11 +958,11 @@
 #endif
 ; return 0; }
 EOF
-if { (eval echo configure:935: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
+if { (eval echo configure:962: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
   rm -rf conftest*
   # It does; now see whether it defined to BIG_ENDIAN or not.
 cat > conftest.$ac_ext <<EOF
-#line 939 "configure"
+#line 966 "configure"
 #include "confdefs.h"
 #include <sys/types.h>
 #include <sys/param.h>
@@ -946,7 +973,7 @@
 #endif
 ; return 0; }
 EOF
-if { (eval echo configure:950: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
+if { (eval echo configure:977: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
   rm -rf conftest*
   ac_cv_c_bigendian=yes
 else
@@ -966,7 +993,7 @@
     { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
 else
   cat > conftest.$ac_ext <<EOF
-#line 970 "configure"
+#line 997 "configure"
 #include "confdefs.h"
 main () {
   /* Are we little or big endian?  From Harbison&Steele.  */
@@ -979,7 +1006,7 @@
   exit (u.c[sizeof (long) - 1] == 1);
 }
 EOF
-if { (eval echo configure:983: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:1010: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   ac_cv_c_bigendian=no
 else
@@ -1003,12 +1030,12 @@
 fi
 
 echo $ac_n "checking for working const""... $ac_c" 1>&6
-echo "configure:1007: checking for working const" >&5
+echo "configure:1034: checking for working const" >&5
 if eval "test \"`echo '$''{'ac_cv_c_const'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1012 "configure"
+#line 1039 "configure"
 #include "confdefs.h"
 
 int main() {
@@ -1057,7 +1084,7 @@
 
 ; return 0; }
 EOF
-if { (eval echo configure:1061: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
+if { (eval echo configure:1088: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
   rm -rf conftest*
   ac_cv_c_const=yes
 else
@@ -1081,18 +1108,18 @@
 do
 ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
 echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
-echo "configure:1085: checking for $ac_hdr" >&5
+echo "configure:1112: checking for $ac_hdr" >&5
 if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1090 "configure"
+#line 1117 "configure"
 #include "confdefs.h"
 #include <$ac_hdr>
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:1095: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out`
+{ (eval echo configure:1122: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   rm -rf conftest*
   eval "ac_cv_header_$ac_safe=yes"
@@ -1121,18 +1148,18 @@
 do
 ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
 echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
-echo "configure:1125: checking for $ac_hdr" >&5
+echo "configure:1152: checking for $ac_hdr" >&5
 if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1130 "configure"
+#line 1157 "configure"
 #include "confdefs.h"
 #include <$ac_hdr>
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:1135: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out`
+{ (eval echo configure:1162: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   rm -rf conftest*
   eval "ac_cv_header_$ac_safe=yes"
@@ -1158,21 +1185,21 @@
 done
 
 echo $ac_n "checking for -ldbm""... $ac_c" 1>&6
-echo "configure:1162: checking for -ldbm" >&5
+echo "configure:1189: checking for -ldbm" >&5
 if eval "test \"`echo '$''{'ac_cv_lib_dbm'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   ac_save_LIBS="$LIBS"
 LIBS="-ldbm  $LIBS"
 cat > conftest.$ac_ext <<EOF
-#line 1169 "configure"
+#line 1196 "configure"
 #include "confdefs.h"
 
 int main() {
 main()
 ; return 0; }
 EOF
-if { (eval echo configure:1176: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
+if { (eval echo configure:1203: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   ac_cv_lib_dbm=yes
 else
@@ -1196,21 +1223,21 @@
 fi
 
 echo $ac_n "checking for -lndbm""... $ac_c" 1>&6
-echo "configure:1200: checking for -lndbm" >&5
+echo "configure:1227: checking for -lndbm" >&5
 if eval "test \"`echo '$''{'ac_cv_lib_ndbm'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   ac_save_LIBS="$LIBS"
 LIBS="-lndbm  $LIBS"
 cat > conftest.$ac_ext <<EOF
-#line 1207 "configure"
+#line 1234 "configure"
 #include "confdefs.h"
 
 int main() {
 main()
 ; return 0; }
 EOF
-if { (eval echo configure:1214: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
+if { (eval echo configure:1241: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   ac_cv_lib_ndbm=yes
 else
@@ -1236,12 +1263,12 @@
 for ac_func in rename ftruncate flock bcopy fsync
 do
 echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
-echo "configure:1240: checking for $ac_func" >&5
+echo "configure:1267: checking for $ac_func" >&5
 if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1245 "configure"
+#line 1272 "configure"
 #include "confdefs.h"
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func(); below.  */
@@ -1264,7 +1291,7 @@
 
 ; return 0; }
 EOF
-if { (eval echo configure:1268: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
+if { (eval echo configure:1295: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   eval "ac_cv_func_$ac_func=yes"
 else
@@ -1291,12 +1318,12 @@
 for ac_func in getopt
 do
 echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
-echo "configure:1295: checking for $ac_func" >&5
+echo "configure:1322: checking for $ac_func" >&5
 if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1300 "configure"
+#line 1327 "configure"
 #include "confdefs.h"
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func(); below.  */
@@ -1319,7 +1346,7 @@
 
 ; return 0; }
 EOF
-if { (eval echo configure:1323: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
+if { (eval echo configure:1350: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   eval "ac_cv_func_$ac_func=yes"
 else
@@ -1340,7 +1367,7 @@
  
 else
   echo "$ac_t""no" 1>&6
-LIBOBJS="$LIBOBJS ${ac_func}.o"
+LIBOBJS="$LIBOBJS ${ac_func}.${ac_objext}"
 fi
 done
 
@@ -1348,19 +1375,19 @@
 # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works
 # for constant arguments.  Useless!
 echo $ac_n "checking for working alloca.h""... $ac_c" 1>&6
-echo "configure:1352: checking for working alloca.h" >&5
+echo "configure:1379: checking for working alloca.h" >&5
 if eval "test \"`echo '$''{'ac_cv_header_alloca_h'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1357 "configure"
+#line 1384 "configure"
 #include "confdefs.h"
 #include <alloca.h>
 int main() {
 char *p = alloca(2 * sizeof(int));
 ; return 0; }
 EOF
-if { (eval echo configure:1364: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
+if { (eval echo configure:1391: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   ac_cv_header_alloca_h=yes
 else
@@ -1381,25 +1408,30 @@
 fi
 
 echo $ac_n "checking for alloca""... $ac_c" 1>&6
-echo "configure:1385: checking for alloca" >&5
+echo "configure:1412: checking for alloca" >&5
 if eval "test \"`echo '$''{'ac_cv_func_alloca_works'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1390 "configure"
+#line 1417 "configure"
 #include "confdefs.h"
 
 #ifdef __GNUC__
 # define alloca __builtin_alloca
 #else
-# if HAVE_ALLOCA_H
-#  include <alloca.h>
+# ifdef _MSC_VER
+#  include <malloc.h>
+#  define alloca _alloca
 # else
-#  ifdef _AIX
- #pragma alloca
+#  if HAVE_ALLOCA_H
+#   include <alloca.h>
 #  else
-#   ifndef alloca /* predefined by HP cc +Olibcalls */
+#   ifdef _AIX
+ #pragma alloca
+#   else
+#    ifndef alloca /* predefined by HP cc +Olibcalls */
 char *alloca ();
+#    endif
 #   endif
 #  endif
 # endif
@@ -1409,7 +1441,7 @@
 char *p = (char *) alloca(1);
 ; return 0; }
 EOF
-if { (eval echo configure:1413: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
+if { (eval echo configure:1445: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   ac_cv_func_alloca_works=yes
 else
@@ -1434,19 +1466,19 @@
   # that cause trouble.  Some versions do not even contain alloca or
   # contain a buggy version.  If you still want to use their alloca,
   # use ar to extract alloca.o from them instead of compiling alloca.c.
-  ALLOCA=alloca.o
+  ALLOCA=alloca.${ac_objext}
   cat >> confdefs.h <<\EOF
 #define C_ALLOCA 1
 EOF
 
 
 echo $ac_n "checking whether alloca needs Cray hooks""... $ac_c" 1>&6
-echo "configure:1445: checking whether alloca needs Cray hooks" >&5
+echo "configure:1477: checking whether alloca needs Cray hooks" >&5
 if eval "test \"`echo '$''{'ac_cv_os_cray'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1450 "configure"
+#line 1482 "configure"
 #include "confdefs.h"
 #if defined(CRAY) && ! defined(CRAY2)
 webecray
@@ -1471,12 +1503,12 @@
 if test $ac_cv_os_cray = yes; then
 for ac_func in _getb67 GETB67 getb67; do
   echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
-echo "configure:1475: checking for $ac_func" >&5
+echo "configure:1507: checking for $ac_func" >&5
 if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1480 "configure"
+#line 1512 "configure"
 #include "confdefs.h"
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func(); below.  */
@@ -1499,7 +1531,7 @@
 
 ; return 0; }
 EOF
-if { (eval echo configure:1503: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
+if { (eval echo configure:1535: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   eval "ac_cv_func_$ac_func=yes"
 else
@@ -1526,7 +1558,7 @@
 fi
 
 echo $ac_n "checking stack direction for C alloca""... $ac_c" 1>&6
-echo "configure:1530: checking stack direction for C alloca" >&5
+echo "configure:1562: checking stack direction for C alloca" >&5
 if eval "test \"`echo '$''{'ac_cv_c_stack_direction'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -1534,7 +1566,7 @@
   ac_cv_c_stack_direction=0
 else
   cat > conftest.$ac_ext <<EOF
-#line 1538 "configure"
+#line 1570 "configure"
 #include "confdefs.h"
 find_stack_direction ()
 {
@@ -1553,7 +1585,7 @@
   exit (find_stack_direction() < 0);
 }
 EOF
-if { (eval echo configure:1557: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:1589: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   ac_cv_c_stack_direction=1
 else
@@ -1575,12 +1607,12 @@
 fi
 
 echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
-echo "configure:1579: checking for ANSI C header files" >&5
+echo "configure:1611: checking for ANSI C header files" >&5
 if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1584 "configure"
+#line 1616 "configure"
 #include "confdefs.h"
 #include <stdlib.h>
 #include <stdarg.h>
@@ -1588,8 +1620,8 @@
 #include <float.h>
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:1592: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
-ac_err=`grep -v '^ *+' conftest.out`
+{ (eval echo configure:1624: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   rm -rf conftest*
   ac_cv_header_stdc=yes
@@ -1605,7 +1637,7 @@
 if test $ac_cv_header_stdc = yes; then
   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
 cat > conftest.$ac_ext <<EOF
-#line 1609 "configure"
+#line 1641 "configure"
 #include "confdefs.h"
 #include <string.h>
 EOF
@@ -1623,7 +1655,7 @@
 if test $ac_cv_header_stdc = yes; then
   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
 cat > conftest.$ac_ext <<EOF
-#line 1627 "configure"
+#line 1659 "configure"
 #include "confdefs.h"
 #include <stdlib.h>
 EOF
@@ -1644,7 +1676,7 @@
   :
 else
   cat > conftest.$ac_ext <<EOF
-#line 1648 "configure"
+#line 1680 "configure"
 #include "confdefs.h"
 #include <ctype.h>
 #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
@@ -1655,7 +1687,7 @@
 exit (0); }
 
 EOF
-if { (eval echo configure:1659: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:1691: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   :
 else
@@ -1679,12 +1711,12 @@
 fi
 
 echo $ac_n "checking for off_t""... $ac_c" 1>&6
-echo "configure:1683: checking for off_t" >&5
+echo "configure:1715: checking for off_t" >&5
 if eval "test \"`echo '$''{'ac_cv_type_off_t'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1688 "configure"
+#line 1720 "configure"
 #include "confdefs.h"
 #include <sys/types.h>
 #if STDC_HEADERS
@@ -1693,7 +1725,7 @@
 #endif
 EOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "off_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
+  egrep "(^|[^a-zA-Z_0-9])off_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
   rm -rf conftest*
   ac_cv_type_off_t=yes
 else
@@ -1712,12 +1744,12 @@
 fi
 
 echo $ac_n "checking for st_blksize in struct stat""... $ac_c" 1>&6
-echo "configure:1716: checking for st_blksize in struct stat" >&5
+echo "configure:1748: checking for st_blksize in struct stat" >&5
 if eval "test \"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1721 "configure"
+#line 1753 "configure"
 #include "confdefs.h"
 #include <sys/types.h>
 #include <sys/stat.h>
@@ -1725,7 +1757,7 @@
 struct stat s; s.st_blksize;
 ; return 0; }
 EOF
-if { (eval echo configure:1729: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
+if { (eval echo configure:1761: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
   rm -rf conftest*
   ac_cv_struct_st_blksize=yes
 else
@@ -1768,7 +1800,7 @@
 # Ultrix sh set writes to stderr and can't be redirected directly,
 # and sets the high bit in the cache file unless we assign to the vars.
 (set) 2>&1 |
-  case `(ac_space=' '; set) 2>&1` in
+  case `(ac_space=' '; set | grep ac_space) 2>&1` in
   *ac_space=\ *)
     # `set' does not quote correctly, so add quotes (double-quote substitution
     # turns \\\\ into \\, and sed turns \\ into \).
@@ -1835,7 +1867,7 @@
     echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
     exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
-    echo "$CONFIG_STATUS generated by autoconf version 2.12"
+    echo "$CONFIG_STATUS generated by autoconf version 2.13"
     exit 0 ;;
   -help | --help | --hel | --he | --h)
     echo "\$ac_cs_usage"; exit 0 ;;
@@ -1855,9 +1887,11 @@
  s/@@/%@/; s/@@/@%/; s/@g\$/%g/' > conftest.subs <<\\CEOF
 $ac_vpsub
 $extrasub
+s%@SHELL@%$SHELL%g
 s%@CFLAGS@%$CFLAGS%g
 s%@CPPFLAGS@%$CPPFLAGS%g
 s%@CXXFLAGS@%$CXXFLAGS%g
+s%@FFLAGS@%$FFLAGS%g
 s%@DEFS@%$DEFS%g
 s%@LDFLAGS@%$LDFLAGS%g
 s%@LIBS@%$LIBS%g
@@ -1879,6 +1913,7 @@
 s%@CC@%$CC%g
 s%@CPP@%$CPP%g
 s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g
+s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g
 s%@INSTALL_DATA@%$INSTALL_DATA%g
 s%@RANLIB@%$RANLIB%g
 s%@LIBOBJS@%$LIBOBJS%g
diff -Naur gdbm-1.7.3.orig/configure.in gdbm-1.7.3/configure.in
--- gdbm-1.7.3.orig/configure.in	Wed May  4 15:39:59 2005
+++ gdbm-1.7.3/configure.in	Wed May  4 14:02:56 2005
@@ -6,8 +6,8 @@
 AC_PROG_CPP
 AC_PROG_INSTALL
 AC_PROG_RANLIB
-AC_INT_16_BITS
-AC_LONG_64_BITS
+#AC_INT_16_BITS
+# AC_LONG_64_BITS
 AC_WORDS_BIGENDIAN
 AC_CONST
 AC_CHECK_HEADERS(stdlib.h string.h sys/file.h unistd.h fcntl.h sys/types.h)
diff -Naur gdbm-1.7.3.orig/gdbm.info gdbm-1.7.3/gdbm.info
--- gdbm-1.7.3.orig/gdbm.info	Fri May 20 01:12:37 1994
+++ gdbm-1.7.3/gdbm.info	Thu Jan  1 01:00:00 1970
@@ -1,705 +0,0 @@
-This is Info file gdbm.info, produced by Makeinfo-1.55 from the input
-file ./gdbm.texinfo.
-
-   This file documents the GNU dbm utility.
-
-   Copyright (C) 1989-1993 Free Software Foundation, Inc.
-
-   Permission is granted to make and distribute verbatim copies of this
-manual provided the copyright notice and this permission notice are
-preserved on all copies.
-
-   Permission is granted to copy and distribute modified versions of
-this manual under the conditions for verbatim copying, provided also
-that the entire resulting derived work is distributed under the terms
-of a permission notice identical to this one.
-
-   Permission is granted to copy and distribute translations of this
-manual into another language, under the above conditions for modified
-versions.
-
-
-File: gdbm.info,  Node: Top,  Next: Copying,  Prev: (dir),  Up: (dir)
-
-   GNU `dbm' is a library of functions implementing a hashed database
-on a disk file.  This manual documents GNU `dbm' Version 1.7.1
-(`gdbm').  The software was written by Philip A. Nelson. This document
-was originally written by Pierre Gaumond from texts written by Phil.
-
-* Menu:
-
-Introduction:
-
-* Copying::                    Your rights.
-* Intro::                      Introduction to GNU dbm.
-* List::                       List of functions.
-
-Functions:
-
-* Open::                       Opening the database.
-* Close::                      Closing the database.
-* Store::                      Inserting and replacing records in the database.
-* Fetch::                      Searching records in the database.
-* Delete::                     Removing records from the database.
-* Sequential::                 Sequential access to records.
-* Reorganization::             Database reorganization.
-* Sync::                       Insure all writes to disk have competed.
-* Errors::                     Convert internal error codes into English.
-* Options::                    Setting internal options.
-
-Other topics:
-
-* Variables::                  Two useful variables.
-* Compatibility::              Compatibility with UNIX dbm and ndbm.
-* Conversion::                 Converting dbm files to gdbm format.
-* Bugs::                       Problems and bugs.
-
-
-File: gdbm.info,  Node: Copying,  Next: Intro,  Prev: Top,  Up: Top
-
-Copying Conditions.
-*******************
-
-   This library is "free"; this means that everyone is free to use it
-and free to redistribute it on a free basis.  GNU `dbm' (`gdbm') is not
-in the public domain; it is copyrighted and there are restrictions on
-its distribution, but these restrictions are designed to permit
-everything that a good cooperating citizen would want to do.  What is
-not allowed is to try to prevent others from further sharing any
-version of `gdbm' that they might get from you.
-
-   Specifically, we want to make sure that you have the right to give
-away copies `gdbm', that you receive source code or else can get it if
-you want it, that you can change these functions or use pieces of them
-in new free programs, and that you know you can do these things.
-
-   To make sure that everyone has such rights, we have to forbid you to
-deprive anyone else of these rights.  For example, if you distribute
-copies `gdbm', you must give the recipients all the rights that you
-have.  You must make sure that they, too, receive or can get the source
-code.  And you must tell them their rights.
-
-   Also, for our own protection, we must make certain that everyone
-finds out that there is no warranty for anything in the `gdbm'
-distribution.  If these functions are modified by someone else and
-passed on, we want their recipients to know that what they have is not
-what we distributed, so that any problems introduced by others will not
-reflect on our reputation.
-
-   `gdbm' is currently distributed under the terms of the GNU General
-Public License, Version 2.  (*NOT* under the GNU General Library Public
-License.)  A copy the GNU General Public License is included with the
-distribution of `gdbm'.
-
-
-File: gdbm.info,  Node: Intro,  Next: List,  Prev: Copying,  Up: Top
-
-Introduction to GNU `dbm'.
-**************************
-
-   GNU `dbm' (`gdbm')is a library of database functions that use
-extendible hashing and works similar to the standard UNIX `dbm'
-functions.  These routines are provided to a programmer needing to
-create and manipulate a hashed database. (`gdbm' is *NOT* a complete
-database package for an end user.)
-
-   The basic use of `gdbm' is to store key/data pairs in a data file.
-Each key must be unique and each key is paired with only one data item.
-The keys can not be directly accessed in sorted order.  The basic unit
-of data in `gdbm' is the structure:
-
-       typedef struct {
-                  char *dptr;
-                  int  dsize;
-               } datum;
-
-   This structure allows for arbitrary sized keys and data items.
-
-   The key/data pairs are stored in a `gdbm' disk file, called a `gdbm'
-database.  An application must open a `gdbm' database to be able
-manipulate the keys and data contained in the database.  `gdbm' allows
-an application to have multiple databases open at the same time.  When
-an application opens a `gdbm' database, it is designated as a `reader'
-or a `writer'.  A `gdbm' database opened by at most one writer at a
-time.  However, many readers may open the database open simultaneously.
-Readers and writers can not open the `gdbm' database at the same time.
-
-
-File: gdbm.info,  Node: List,  Next: Open,  Prev: Intro,  Up: Top
-
-List of functions.
-******************
-
-   The following is a quick list of the functions contained in the
-`gdbm' library. The include file `gdbm.h', that can be included by the
-user, contains a definition of these functions.
-
-     #include <gdbm.h>
-     
-     GDBM_FILE gdbm_open(name, block_size, flags, mode, fatal_func);
-     void gdbm_close(dbf);
-     int gdbm_store(dbf, key, content, flag);
-     datum gdbm_fetch(dbf, key);
-     int gdbm_delete(dbf, key);
-     datum gdbm_firstkey(dbf);
-     datum gdbm_nextkey(dbf, key);
-     int gdbm_reorganize(dbf);
-     void gdbm_sync(dbf);
-     int gdbm_exists(dbf, key);
-     char *gdbm_strerror(errno);
-     int gdbm_setopt(dbf, option, value, size)
-
-   The `gdbm.h' include file is often in the `/usr/local/gnu/include'
-directory. (The actual location of `gdbm.h' depends on your local
-installation of `gdbm'.)
-
-
-File: gdbm.info,  Node: Open,  Next: Close,  Prev: List,  Up: Top
-
-Opening the database.
-*********************
-
-   Initialize `gdbm' system. If the file has a size of zero bytes, a
-file initialization procedure is performed, setting up the initial
-structure in the file.
-
-   The procedure for opening a `gdbm' file is:
-
-     GDBM_FILE dbf;
-     
-     dbf = gdbm_open(name, block_size, flags, mode, fatal_func);
-
-   The parameters are:
-
-char *name
-     The name of the file (the complete name, `gdbm' does not append any
-     characters to this name).
-
-int block_size
-     It is used during initialization to determine the size of various
-     constructs. It is the size of a single transfer from disk to
-     memory. This parameter is ignored if the file has been previously
-     initialized. The minimum size is 512.  If the value is less than
-     512, the file system blocksize is used, otherwise the value of
-     `block_size' is used.
-
-int flags
-     If `flags' is set to GDBM_READER, the user wants to just read the
-     database and any call to `gdbm_store' or `gdbm_delete' will fail.
-     Many readers can access the database at the same time. If `flags'
-     is set to GDBM_WRITER, the user wants both read and write access
-     to the database and requires exclusive access. If `flags' is set
-     to GDBM_WRCREAT, the user wants both read and write access to the
-     database and if the database does not exist, create a new one. If
-     `flags' is set to GDBM_NEWDB, the user want a new database
-     created, regardless of whether one existed, and wants read and
-     write access to the new database.  For all writers (GDBM_WRITER,
-     GDBM_WRCREAT and GDBM_NEWDB) the value GDBM_FAST can be added to
-     the `flags' field using logical or.  This option causes `gdbm' to
-     write the database without any disk file synchronization.  This
-     allows faster writes, but may produce an inconsistent database in
-     the event of abnormal termination of the writer.  Any error
-     detected will cause a return value of NULL and an appropriate
-     value will be in `gdbm_errno' (see Variables). If no errors occur,
-     a pointer to the `gdbm' file descriptor will be returned.
-
-int mode
-     File mode (see chmod(2) and open(2) if the file is created).
-
-void (*fatal_func) ()
-     A function for `gdbm' to call if it detects a fatal error. The only
-     parameter of this function is a string. If the value of NULL is
-     provided, `gdbm' will use a default function.
-
-   The return value, `dbf', is the pointer needed by all other
-functions to access that `gdbm' file. If the return is the NULL pointer,
-`gdbm_open' was not successful. The errors can be found in `gdbm_errno'
-for `gdbm' errors and in `errno' for file system errors (for error
-codes, see `gdbm.h').
-
-   In all of the following calls, the parameter `dbf' refers to the
-pointer returned from `gdbm_open'.
-
-
-File: gdbm.info,  Node: Close,  Next: Store,  Prev: Open,  Up: Top
-
-Closing the database.
-*********************
-
-   It is important that every file opened is also closed. This is
-needed to update the reader/writer count on the file. This is done by:
-
-     gdbm_close(dbf);
-
-   The parameter is:
-
-GDBM_FILE dbf
-     The pointer returned by `gdbm_open'.
-
-   Closes the `gdbm' file and frees all memory associated with the file
-`dbf'.
-
-
-File: gdbm.info,  Node: Store,  Next: Fetch,  Prev: Close,  Up: Top
-
-Inserting and replacing records in the database.
-************************************************
-
-   The function `gdbm_store' inserts or replaces records in the
-database.
-
-     ret = gdbm_store(dbf, key, content, flag);
-
-   The parameters are:
-
-GDBM_FILE dbf
-     The pointer returned by `gdbm_open'.
-
-datum key
-     The `key' data.
-
-datum content
-     The data to be associated with the key.
-
-int flag
-     Defines the action to take when the key is already in the
-     database. The value GDBM_REPLACE (defined in `gdbm.h') asks that
-     the old data be replaced by the new `content'. The value
-     GDBM_INSERT asks that an error be returned and no action taken if
-     the `key' already exists.
-
-   The values returned in `ret' are:
-
--1
-     The item was not stored in the database because the caller was not
-     an official writer or either `key' or `content' have a NULL dptr
-     field.  Both `key' and `content' must have the dptr field be a
-     non-NULL value.  Since a NULL dptr field is used by other
-     functions to indicate an error, a NULL field cannot be valid data.
-
-+1
-     The item was not stored because the argument `flag' was
-     GDBM_INSERT and the `key' was already in the database.
-
-0
-     No error. `content' is keyed by `key'. The file on disk is updated
-     to reflect the structure of the new database before returning from
-     this function.
-
-   If you store data for a `key' that is already in the data base,
-`gdbm' replaces the old data with the new data if called with
-GDBM_REPLACE. You do not get two data items for the same `key' and you
-do not get an error from `gdbm_store'.
-
-   The size in `gdbm' is not restricted like `dbm' or `ndbm'. Your data
-can be as large as you want.
-
-
-File: gdbm.info,  Node: Fetch,  Next: Delete,  Prev: Store,  Up: Top
-
-Searching for records in the database.
-**************************************
-
-   Looks up a given `key' and returns the information associated with
-that key. The pointer in the structure that is  returned is a pointer
-to dynamically allocated memory block. To search for some data:
-
-     content = gdbm_fetch(dbf, key);
-
-   The parameters are:
-
-GDBM_FILE dbf
-     The pointer returned by `gdbm_open'.
-
-datum key
-     The `key' data.
-
-   The datum returned in `content' is a pointer to the data found. If
-the dptr is NULL, no data was found. If dptr is not NULL, then it points
-to data allocated by malloc. `gdbm' does not automatically free this
-data.  The user must free this storage when done using it. This
-eliminates the need to copy the result to save it for later use (you
-just save the pointer).
-
-   You may also search for a particular key without retrieving it,
-using:
-
-     ret = gdbm_exists(dbf, key);
-
-   The parameters are:
-
-GDBM_FILE dbf
-     The pointer returned by `gdbm_open'.
-
-datum key
-     The `key' data.
-
-   Unlike `gdbm_fetch', this routine does not allocate any memory, and
-simply returns true or false, depending on whether the `key' exists, or
-not.
-
-
-File: gdbm.info,  Node: Delete,  Next: Sequential,  Prev: Fetch,  Up: Top
-
-Removing records from the database.
-***********************************
-
-   To remove some data from the database:
-
-     ret = gdbm_delete(dbf, key);
-
-   The parameters are:
-
-GDBM_FILE dbf
-     The pointer returned by `gdbm_open'.
-
-datum key
-     The `key' data.
-
-   The ret value is -1 if the item is not present or the requester is a
-reader.  The ret value is 0 if there was a successful delete.
-
-   `gdbm_delete' removes the keyed item and the `key' from the database
-`dbf'. The file on disk is updated to reflect the structure of the new
-database before returning from this function.
-
-
-File: gdbm.info,  Node: Sequential,  Next: Reorganization,  Prev: Delete,  Up: Top
-
-Sequential access to records.
-*****************************
-
-   The next two functions allow for accessing all items in the
-database. This access is not `key' sequential, but it is guaranteed to
-visit every `key' in the database once. The order has to do with the
-hash values.  `gdbm_firstkey' starts the visit of all keys in the
-database.  `gdbm_nextkey' finds and reads the next entry in the hash
-structure for `dbf'.
-
-     key = gdbm_firstkey(dbf);
-     
-     nextkey = gdbm_nextkey(dbf, key);
-
-   The parameters are:
-
-GDBM_FILE dbf
-     The pointer returned by `gdbm_open'.
-
-datum `key'
-datum nextkey
-     The `key' data.
-
-   The return values are both datum. If `key'.dptr or nextkey.dptr is
-NULL, there is no first `key' or next `key'. Again notice that dptr
-points to data allocated by malloc and `gdbm' will not free it for you.
-
-   These functions were intended to visit the database in read-only
-algorithms, for instance, to validate the database or similar
-operations.
-
-   File `visiting' is based on a `hash table'. `gdbm_delete'
-re-arranges the hash table to make sure that any collisions in the
-table do not leave some item `un-findable'. The original key order is
-NOT guaranteed to remain unchanged in ALL instances. It is possible
-that some key will not be visited if a loop like the following is
-executed:
-
-        key = gdbm_firstkey ( dbf );
-        while ( key.dptr ) {
-           nextkey = gdbm_nextkey ( dbf, key );
-           if ( some condition ) {
-              gdbm_delete ( dbf, key );
-              free ( key.dptr );
-           }
-           key = nextkey;
-        }
-
-
-File: gdbm.info,  Node: Reorganization,  Next: Sync,  Prev: Sequential,  Up: Top
-
-Database reorganization.
-************************
-
-   The following function should be used very seldom.
-
-     ret = gdbm_reorganize(dbf);
-
-   The parameter is:
-
-GDBM_FILE dbf
-     The pointer returned by `gdbm_open'.
-
-   If you have had a lot of deletions and would like to shrink the space
-used by the `gdbm' file, this function will reorganize the database.
-`gdbm' will not shorten the length of a `gdbm' file (deleted file space
-will be reused) except by using this reorganization.
-
-   This reorganization requires creating a new file and inserting all
-the elements in the old file `dbf' into the new file. The new file is
-then renamed to the same name as the old file and `dbf' is updated to
-contain all the correct information about the new file. If an error is
-detected, the return value is negative. The value zero is returned
-after a successful reorganization.
-
-
-File: gdbm.info,  Node: Sync,  Next: Errors,  Prev: Reorganization,  Up: Top
-
-Database Synchronization
-************************
-
-   If your database was opened with the GDBM_FAST flag, `gdbm' does not
-wait for writes to the disk to complete before continuing.  This allows
-faster writing of databases at the risk of having a corrupted database
-if the application terminates in an abnormal fashion.  The following
-function allows the programmer to make sure the disk version of the
-database has been completely updated with all changes to the current
-time.
-
-     gdbm_sync(dbf);
-
-   The parameter is:
-
-GDBM_FILE dbf
-     The pointer returned by `gdbm_open'.
-
-   This would usually be called after a complete set of changes have
-been made to the database and before some long waiting time.
-`gdbm_close' automatically calls the equivalent of `gdbm_sync' so no
-call is needed if the database is to be closed immediately after the
-set of changes have been made.
-
-
-File: gdbm.info,  Node: Errors,  Next: Options,  Prev: Sync,  Up: Top
-
-Error strings.
-**************
-
-   To convert a `gdbm' error code into English text, use this routine:
-
-     ret = gdbm_strerror(errno)
-
-   The parameter is:
-
-gdbm_error errno
-     The `gdbm' error code, usually `gdbm_errno'.
-
-   The appropiate phrase for reading by humans is returned.
-
-
-File: gdbm.info,  Node: Options,  Next: Variables,  Prev: Errors,  Up: Top
-
-Seting options.
-***************
-
-   `Gdbm' now supports the ability to set certain options on an already
-open database.
-
-     ret = gdbm_setopt(dbf, option, value, size)
-
-   The parameters are:
-
-GDBM_FILE dbf
-     The pointer returned by `gdbm_open'.
-
-int option
-     The option to be set.
-
-int *value
-     A pointer to the value to which `option' will be set.
-
-int size
-     The length of the data pointed to by `value'.
-
-   The valid options are currently:
-
-   GDBM_CACHESIZE - Set the size of the internal bucket cache.  This
-option may only be set once on each GDBM_FILE descriptor, and   is set
-automatically to 100 upon the first access to the database.
-
-   GDBM_FASTMODE - Set fast mode to either on or off.  This allows
-fast mode to be toggled on an already open and active database.
-value (see below) should be set to either TRUE or FALSE.
-
-   The return value will be -1 upon failure, or 0 upon success.  The
-global variable `gdbm_errno' will be set upon failure.
-
-   For instance, to set a database to use a cache of 10, after opening
-it with `gdbm_open', but prior to accessing it in any way, the following
-code could be used:
-
-     int value = 10;
-     ret = gdbm_setopt(dbf, GDBM_CACHESIZE, &value, sizeof(int));
-
-
-File: gdbm.info,  Node: Variables,  Next: Compatibility,  Prev: Options,  Up: Top
-
-Two useful variables.
-*********************
-
-   The following two variables are variables that may need to be used:
-
-gdbm_error gdbm_errno
-     The variable that contains more information about `gdbm' errors
-     (`gdbm.h' has the definitions of the error values).
-
-const char * gdbm_version
-     The string containing the version information.
-
-
-File: gdbm.info,  Node: Compatibility,  Next: Conversion,  Prev: Variables,  Up: Top
-
-Compatibility with standard `dbm' and `ndbm'.
-*********************************************
-
-   GNU `dbm' files are not `sparse'. You can copy them with the UNIX
-`cp' command and they will not expand in the copying process.
-
-   There is a compatibility mode for use with programs that already use
-UNIX `dbm' and UNIX `ndbm'.
-
-   GNU `dbm' has compatibility functions for `dbm'. For `dbm'
-compatibility functions, you need the include file `dbm.h'.
-
-   In this compatibility mode, no `gdbm' file pointer is required by
-the user, and Only one file may be opened at a time. All users in
-compatibility mode are assumed to be writers. If the `gdbm' file is a
-read only, it will fail as a writer, but will also try to open it as a
-reader.  All returned pointers in datum structures point to data that
-`gdbm' WILL free. They should be treated as static pointers (as
-standard UNIX `dbm' does). The compatibility function names are the
-same as the UNIX `dbm' function names. Their definitions follow:
-
-     int dbminit(name);
-     int store(key, content);
-     datum fetch(key);
-     int delete(key);
-     datum firstkey();
-     datum nextkey(key);
-     int dbmclose();
-
-   Standard UNIX `dbm' and GNU `dbm' do not have the same data format
-in the file. You cannot access a standard UNIX `dbm' file with GNU
-`dbm'!  If you want to use an old database with GNU `dbm', you must use
-the `conv2gdbm' program.
-
-   Also, GNU `dbm' has compatibility functions for `ndbm'. For `ndbm'
-compatibility functions, you need the include file `ndbm.h'.
-
-   Again, just like `ndbm', any returned datum can be assumed to be
-static storage. You do not have to free that memory, the `ndbm'
-compatibility functions will do it for you.
-
-   The functions are:
-
-     DBM *dbm_open(name, flags, mode);
-     void dbm_close(file);
-     datum dbm_fetch(file, key);
-     int dbm_store(file, key, `content', flags);
-     int dbm_delete(file, key);
-     datum dbm_firstkey(file);
-     datum dbm_nextkey(file);
-     int dbm_error(file);
-     int dbm_clearerr(file);
-     int dbm_dirfno(file);
-     int dbm_pagfno(file);
-     int dbm_rdonly(file);
-
-   If you want to compile an old C program that used UNIX `dbm' or
-`ndbm' and want to use `gdbm' files, execute the following `cc' command:
-
-     cc ... -L /usr/local/lib -lgdbm
-
-
-File: gdbm.info,  Node: Conversion,  Next: Bugs,  Prev: Compatibility,  Up: Top
-
-Converting `dbm' files to `gdbm' format.
-****************************************
-
-   The program `conv2gdbm' has been provided to help you convert from
-`dbm' databases to `gdbm'. The usage is:
-
-     conv2gdbm [-q] [-b block_size] dbm_file [gdbm_file]
-
-   The options are:
-
--q
-     Causes `conv2gdbm' to work quietly.
-
-block_size
-     Is the same as in `gdbm_open'.
-
-dbm_file
-     Is the name of the `dbm' file without the `.pag' or `.dir'
-     extensions.
-
-gdbm_file
-     Is the complete file name. If not included, the `gdbm' file name
-     is the same as the `dbm' file name without any extensions. That is
-     `conv2gdbm' `dbmfile' converts the files `dbmfile.pag' and
-     `dbmfile.dir' into a `gdbm' file called `dbmfile'.
-
-
-File: gdbm.info,  Node: Bugs,  Prev: Conversion,  Up: Top
-
-Problems and bugs.
-******************
-
-   If you have problems with GNU `dbm' or think you've found a bug,
-please report it. Before reporting a bug, make sure you've actually
-found a real bug. Carefully reread the documentation and see if it
-really says you can do what you're trying to do. If it's not clear
-whether you should be able to do something or not, report that too; it's
-a bug in the documentation!
-
-   Before reporting a bug or trying to fix it yourself, try to isolate
-it to the smallest possible input file that reproduces the problem. Then
-send us the input file and the exact results `gdbm' gave you. Also say
-what you expected to occur; this will help us decide whether the
-problem was really in the documentation.
-
-   Once you've got a precise problem, send e-mail to:
-
-     Internet: `bug-gnu-utils@prep.ai.mit.edu'.
-     UUCP: `mit-eddie!prep.ai.mit.edu!bug-gnu-utils'.
-
-   Please include the version number of GNU `dbm' you are using. You
-can get this information by printing the variable `gdbm_version' (see
-Variables).
-
-   Non-bug suggestions are always welcome as well. If you have questions
-about things that are unclear in the documentation or are just obscure
-features, please report them too.
-
-   You may contact the author by:
-         e-mail:  phil@cs.wwu.edu
-        us-mail:  Philip A. Nelson
-                  Computer Science Department
-                  Western Washington University
-                  Bellingham, WA 98226
-
-   You may contact the current maintainer by:
-         e-mail:  downsj@CSOS.ORST.EDU
-
-
-
-Tag Table:
-Node: Top767
-Node: Copying2197
-Node: Intro3979
-Node: List5395
-Node: Open6324
-Node: Close9217
-Node: Store9652
-Node: Fetch11447
-Node: Delete12696
-Node: Sequential13362
-Node: Reorganization15044
-Node: Sync15999
-Node: Errors16959
-Node: Options17319
-Node: Variables18625
-Node: Compatibility19055
-Node: Conversion21429
-Node: Bugs22243
-
-End Tag Table
